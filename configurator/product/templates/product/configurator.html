{% extends 'company/base.html' %}
{% block content %}
{% load static %}
<style>
    /* Zentrale Button-Styling */
    .custom-button {
        background-color: #7A9E7E;
        color: #FFFFFF;
        border: none;
        cursor: pointer;
        transition: background-color 0.3s ease;
        border-radius: 10px;
        width: 30%;
        height: 30%;
    }

    .custom-button-submit {
        background-color: #7A9E7E;
        color: #FFFFFF;
        border: none;
        cursor: pointer;
        transition: background-color 0.3s ease;
        border-radius: 10px;
        width: 50%;
        height: 30%;
    }



    .custom-button:hover {
        background-color: #6E8F72; /* Dunklerer Grünton beim Hover */
    }
</style>

<div class="container" style="padding: 5%;">
    <div class="container" style="text-align: center; padding-bottom: 3%;">
        <h2 class="h2" style="font-size: 30px;">Configure Your Desk</h2>
    </div>

    <div class="row container">
        <!-- Image Section -->
        <div class="container col-6" style="padding: 5%;">
            <img src="{% static 'product/table.png' %}" class="rounded float-start" style="width: 100%;">
        </div>

        <!-- Configurator Section -->
        <div class="container col-6" style="padding-top: 5%; padding-bottom: 5%; align-content: center;">
            <!-- Option to Choose Configuration Mode -->
            <div class="form-group">
                <label for="configMode"><strong>Choose Configuration Mode:</strong></label>
                <select class="form-control" id="configMode" onchange="toggleConfigMode()">
                    <option value="calculator">Use Desk Height Calculator</option>
                    <option value="manual">Enter Desk Values Manually</option>
                </select>
            </div>

            <!-- Calculator Mode -->
            <div id="calculatorMode">
                <form id="deskForm">
                    <div class="form-group">
                        <label for="inputBodyHeight">Your Body Height (cm)</label>
                        <input type="number" class="form-control" id="inputBodyHeight" placeholder="Enter your body height in cm">
                    </div>
                    <div class="form-group" style="padding-top: 10px;">
                        <button type="button" class="custom-button" onclick="calculateHeights()">Calculate</button>
                    </div>
                </form>
                <div id="results" style="padding-top: 20px; display: none;">
                    <h4>Calculated Desk Heights:</h4>
                    <p>✅ <strong>Chair Height:</strong> <span id="chairHeight"></span> cm</p>
                    <p>✅ <strong>Sitting Desk Height:</strong> <span id="sittingDeskHeight"></span> cm</p>
                    <p>✅ <strong>Standing Desk Height:</strong> <span id="standingDeskHeight"></span> cm</p>
                </div>
            </div>

            <!-- Manual Input Mode -->
            <div id="manualMode" style="display: none;">
                <form>
                    <div class="form-group">
                        <label for="manualDeskHeight">Desk Height (cm)</label>
                        <input type="number" class="form-control" id="manualDeskHeight" placeholder="Enter desk height in cm">
                    </div>
                    <div class="form-group">
                        <label for="manualDeskWidth">Desk Width (cm)</label>
                        <input type="number" class="form-control" id="manualDeskWidth" placeholder="Enter desk width in cm">
                    </div>
                    <div class="form-group">
                        <label for="manualDeskLength">Desk Length (cm)</label>
                        <input type="number" class="form-control" id="manualDeskLength" placeholder="Enter desk length in cm">
                    </div>
                </form>
            </div>

            <!-- Material and Color Selection -->
            <div style="padding-top: 20px;">
                <h4>Customize Your Desk:</h4>
                <div class="form-group">
                    <label for="material">Select Material:</label>
                    <select class="form-control" id="material">
                        <option>Wood</option>
                        <option>Metal</option>
                        <option>Glass</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="color">Select Color:</label>
                    <select class="form-control" id="color">
                        <option>Natural</option>
                        <option>White</option>
                        <option>Black</option>
                        <option>Gray</option>
                    </select>
                </div>
                <div class="form-group" style="padding-top: 20px;">
                    <button type="button" class="custom-button-submit" onclick="submitConfiguration()">Submit Configuration</button>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    // Toggle between calculator and manual input
    function toggleConfigMode() {
        const mode = document.getElementById("configMode").value;
        if (mode === "calculator") {
            document.getElementById("calculatorMode").style.display = "block";
            document.getElementById("manualMode").style.display = "none";
        } else {
            document.getElementById("calculatorMode").style.display = "none";
            document.getElementById("manualMode").style.display = "block";
        }
    }

    // Calculate heights based on body height
    function calculateHeights() {
        let bodyHeight = document.getElementById("inputBodyHeight").value;

        if (bodyHeight === "" || bodyHeight <= 0) {
            alert("Please enter a valid body height!");
            return;
        }

        bodyHeight = parseFloat(bodyHeight);

        const chairHeight = (0.125 * bodyHeight * 2).toFixed(2);
        const sittingDeskHeight = (0.125 * bodyHeight * 3.5).toFixed(2);
        const standingDeskHeight = (0.125 * bodyHeight * 5).toFixed(2);

        document.getElementById("chairHeight").innerText = chairHeight;
        document.getElementById("sittingDeskHeight").innerText = sittingDeskHeight;
        document.getElementById("standingDeskHeight").innerText = standingDeskHeight;

        document.getElementById("results").style.display = "block";
    }

    // Submit the configuration
    function submitConfiguration() {
        const mode = document.getElementById("configMode").value;
        let deskHeight, deskWidth, deskLength;

        if (mode === "manual") {
            deskHeight = document.getElementById("manualDeskHeight").value;
            deskWidth = document.getElementById("manualDeskWidth").value;
            deskLength = document.getElementById("manualDeskLength").value;
        } else {
            deskHeight = document.getElementById("sittingDeskHeight").innerText || "N/A";
        }

        const material = document.getElementById("material").value;
        const color = document.getElementById("color").value;

        alert(`Your configuration:\n
               Desk Height: ${deskHeight} cm\n
               Desk Width: ${deskWidth || "Not specified"} cm\n
               Desk Length: ${deskLength || "Not specified"} cm\n
               Material: ${material}\n
               Color: ${color}`);
    }
</script>

{% endblock %}
